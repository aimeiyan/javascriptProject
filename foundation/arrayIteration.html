<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>JS数组迭代方法</title>
</head>
<body>
<script>

    /* http://www.cnblogs.com/mguo/p/3145644.html */
    /*  数组迭代方法：every、some、filter、map 和 forEach */

    function arrayDouble(arr) {
        return arr.map(function (obj) {
            return obj * 2
        });
    }

    console.log(arrayDouble([1, 2, 3]));

    var arr = [3, 4, 5, 6, 7, 'a'];
    var isNum = function (elem) {
        return !isNaN(elem)
    };

    var toUpperCase = function (elem) {
        return String.prototype.toUpperCase.apply(elem);
    };

    var print = function (elem, index) {
        console.log(index + "," + elem);
    };
    /*对数组中的每一项执行测试函数，直到获得对指定的函数返回 false 的项。 使用此方法 可确定数组中的所有项是否满足某一条件,类似于&&的含义*/
    var res = arr.every(isNum);
    console.log(res);

    /*对数组中的每一项执行测试函数，直到获得返回 true 的项。 使用此方法确定数组中的所有项是否满足条件.类似于||的含义*/
    res = arr.some(isNum);
    console.log(res);

    /*对数组中的每一项执行测试函数，并构造一个新数组，返回 true的项被添加进新数组。 如果某项返回 false，则新数组中将不包含此项*/
    res = arr.filter(isNum);
    console.log(res);

    /*对数组中的每一项执行函数并构造一个新数组，并将原始数组中的每一项的函数结添加进新数组。*/
    res = arr.map(toUpperCase);
    console.log(res);

    /*对数组中的每一项执行函数,不返回值*/
    res = arr.forEach(print);
    console.log(res);

    //自己扩展

    /*Array.prototype.every = function(fun,obj) {
     var len = this.length;
     if (typeof fun != "function")
     throw new TypeError();
     for (var i = 0; i < len; i++) {
     if (!fun.call(obj,this[i], i,this))
     return false;
     }
     return true;
     };*/


</script>
</body>
</html>